@page
@using System.Reflection
@using Microsoft.AspNetCore.Mvc.RazorPages
@model purrnet.Pages.pagesModel
@{
// for each page in the app domain, display a link to the page.
    ViewData["Title"] = "Purr Pages";
    Layout = "_Layout";
    ViewData["Description"] = "Explore the various pages available in the Purr package manager documentation.";
    ViewData["Keywords"] = "Purr, pages, documentation, package manager";
    var pages = AppDomain.CurrentDomain.GetAssemblies()
        .SelectMany(assembly => assembly.GetTypes())
        .Where(type => type.IsSubclassOf(typeof(PageModel)))
        .Select(type => new
        {
            Name = type.Name,
            Route = $"/{type.Name.Replace("Model", "")}"
        })
        .ToList();
}

<div class="alert">
        
    <h3 class="alert">Welcome to the AutoGenerated registry of pages for PurrNet</h3>
    <h1>
        <i class="bi bi-file-text"></i> Purr Pages
        <span class="badge bg-secondary">Total: @pages.Count</span>
    </h1>
</div>

@foreach (var pagg in pages)
{
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">
                <a href="@pagg.Route" class="text-decoration-none text-primary">@pagg.Name</a>
            </h5>
            <p class="card-text">Navigate to the @pagg.Name page.</p>
        </div>
    </div>
}